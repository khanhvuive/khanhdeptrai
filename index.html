<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>L√å X√å T·∫æT 2026</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            overflow: hidden;
            background: radial-gradient(circle, #ff1a1a, #7a0000);
            font-family: 'Arial', sans-serif;
            text-align: center;
            color: white;
            user-select: none;
            touch-action: manipulation;
        }

        h1 { margin-top: 20px; font-size: 28px; text-shadow: 0 0 15px gold; padding: 0 10px; }
        #status-text { font-size: 18px; color: gold; margin: 10px; height: 40px; }

        .scene {
            width: 150px;
            height: 220px;
            perspective: 1000px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 100;
        }

        .envelope {
            width: 100%;
            height: 100%;
            background: linear-gradient(#d40000, #ff0000);
            box-shadow: 0 0 25px gold;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            border: 2px solid #ffcc00;
        }

        #message-area {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            padding: 20px;
            background: rgba(0,0,0,0.8);
            border-radius: 15px;
            border: 2px solid gold;
            z-index: 200;
        }

        .flash { animation: flash-bg 0.2s infinite; }
        @keyframes flash-bg { from { background: #7a0000; } to { background: #ff0000; } }

        .flower { position: absolute; font-size: 20px; animation: fall linear infinite; pointer-events: none; }
        @keyframes fall { from { transform: translateY(-10vh); } to { transform: translateY(110vh); } }
    </style>
</head>
<body>

<h1>üßß L√å X√å MAY M·∫ÆN 2026 üßß</h1>
<div id="status-text">B·∫•m v√†o bao l√¨ x√¨ ƒë·ªÉ nh·∫≠n l·ªôc ƒë·∫ßu nƒÉm!</div>

<div class="scene" id="lixi-container">
    <div class="envelope" id="lixi-icon">üßß</div>
</div>

<div id="message-area"></div>

<script>
    let runCount = 0;
    let nestCount = 0;
    const maxRun = 3;
    const maxNest = 5;
    const container = document.getElementById('lixi-container');
    const statusText = document.getElementById('status-text');
    const lixiIcon = document.getElementById('lixi-icon');

    // H√†m x·ª≠ l√Ω khi ng∆∞·ªùi d√πng ch·∫°m v√†o (d√†nh cho mobile)
    function handleTouch(e) {
        e.preventDefault(); // Ch·∫∑n h√†nh vi m·∫∑c ƒë·ªãnh

        if (runCount < maxRun) {
            // Giai ƒëo·∫°n 1: Ch·∫°y tr·ªën
            runCount++;
            statusText.innerText = `H·ª•t r·ªìi! Nhanh tay h∆°n ch√∫t n·ªØa n√†o! (${runCount}/${maxRun})`;
            
            // T√≠nh to√°n v·ªã tr√≠ m·ªõi an to√†n trong m√†n h√¨nh ƒëi·ªán tho·∫°i
            const safeWidth = window.innerWidth - 160;
            const safeHeight = window.innerHeight - 250;
            
            const newX = Math.random() * safeWidth + 80;
            const newY = Math.random() * safeHeight + 110;
            
            container.style.left = newX + 'px';
            container.style.top = newY + 'px';

            // Rung ph·∫£n h·ªìi (n·∫øu m√°y h·ªó tr·ª£)
            if (navigator.vibrate) navigator.vibrate(50);

        } else if (nestCount < maxNest) {
            // Giai ƒëo·∫°n 2: B√∫p b√™ Nga
            nestCount++;
            const scale = 1 - (nestCount * 0.12);
            container.style.transform = `translate(-50%, -50%) scale(${scale})`;
            
            const icons = ["üßß", "‚úâÔ∏è", "üì©", "üì®", "ü§è"];
            lixiIcon.innerText = icons[nestCount % icons.length];
            statusText.innerText = `G·∫ßn m·ªü ƒë∆∞·ª£c r·ªìi... l·ªõp th·ª© ${nestCount}!`;
            
            if (navigator.vibrate) navigator.vibrate(30);
        } else {
            // Giai ƒëo·∫°n 3: D·ªôi bom Alert
            startFinalTroll();
        }
    }

    // L·∫Øng nghe c·∫£ s·ª± ki·ªán Click v√† Touch ƒë·ªÉ ƒë·∫£m b·∫£o ho·∫°t ƒë·ªông m·ªçi n∆°i
    container.addEventListener('touchstart', handleTouch);
    container.addEventListener('click', handleTouch);

    function startFinalTroll() {
        container.style.display = 'none';
        statusText.style.display = 'none';
        document.body.classList.add('flash');
        
        const trollMessages = [
            "üßß H·ªá th·ªëng ƒëang k·∫øt n·ªëi v√≠ MoMo/ZaloPay...",
            "‚ö†Ô∏è L·ªñI: Ph√°t hi·ªán ng∆∞·ªùi d√πng qu√° ngu!",
            "üîç ƒêang qu√©t ƒë·ªô l∆∞·ªùi bi·∫øng c·ªßa b·∫°n trong nƒÉm qua...",
            "‚ùå K·∫øt qu·∫£: Qu√° l∆∞·ªùi! Kh√¥ng ƒë∆∞·ª£c nh·∫≠n l√¨ x√¨.",
            "üí∏ ƒêang ti·∫øn h√†nh tr·ª´ 50k v√†o h√≥a ƒë∆°n ƒëi·ªán tho·∫°i...",
            "ü§° t∆∞·ªüng c√≥ ti·ªÅn th·∫≠t √†? ƒêang l√† nƒÉm 2026 ƒë√≥!",
            "üßß ƒêi·ªán tho·∫°i chu·∫©n b·ªã n·ªï trong 1.....2.....3...?!",
            "ü§£ n·ªï th·∫≠t th√¨ toang!",
            "üßß gah dayum! üßß"
        ];

        let i = 0;
        function showNextAlert() {
            if (i < trollMessages.length) {
                alert(trollMessages[i]);
                i++;
                setTimeout(showNextAlert, 150);
            } else {
                document.body.classList.remove('flash');
                document.getElementById('message-area').style.display = 'block';
                document.getElementById('message-area').innerHTML = "<h2>üßß HAPPY NEW YEAR üßß</h2><p>ƒêang ngh√®o kh√¥ng c√≥ l√¨ x√¨ ƒë√¢u!</p>";
            }
        }
        showNextAlert();
    }

    // Hi·ªáu ·ª©ng hoa ƒë√†o r∆°i
    function createFlowers() {
        const f = document.createElement("div");
        f.className = "flower";
        f.innerHTML = Math.random() > 0.5 ? "üå∏" : "üåº";
        f.style.left = Math.random() * 100 + "vw";
        f.style.animationDuration = (Math.random() * 3 + 4) + "s";
        document.body.appendChild(f);
        setTimeout(() => f.remove(), 5000);
    }
    setInterval(createFlowers, 500);

    // Ch·∫∑n menu chu·ªôt ph·∫£i v√† c√°c ph√≠m t·∫Øt
    window.oncontextmenu = () => false;
</script>
</body>
</html>
